"""
Input: 
	Tumor Matrix for a given cancer (GtM file)
	Stats file for the given tumor matrix (generated by GetInputMatrixStats.py)

Output:
	A submatrix of the full tumor matrix such that the only gene

NOTE: THE OUTPUT PRODUCED BY THIS PROGRAM SHOULD BE SUBSEQUENTLY TRANSPOSED USING "transpose.py" IN ORDER TO MAINTAIN CONSISTENCY OF THE MATRIX FORMATTING
"""


import sys
from NamedMatrix import NamedMatrix
import numpy as np

mutMatrix = NamedMatrix(sys.argv[1])
statsFile = open(sys.argv[2], "r")
subMatrix = open(sys.argv[3], "w")

statsFile.readline() #skip over first line of file, we are interested in the top genes (2nd line)

tumorList = mutMatrix.getRownames()
topGenes = statsFile.readline()
topGenesList = topGenes.strip().split(",")

subMatrix.write("Sample,")
for i in range(len(tumorList)):
	if i == len(tumorList) - 1:
		subMatrix.write(str(tumorList[i]) + "\n")
	else:
		subMatrix.write(str(tumorList[i]) + ",")

for curGene in topGenesList:
	geneData = mutMatrix.getValuesByCol(curGene)
	subMatrix.write(curGene + ",")
	for i in range(len(geneData)):
		if i == len(geneData) - 1:
			subMatrix.write(str(geneData[i]) + "\n")
		else:
			subMatrix.write(str(geneData[i]) + ",")
subMatrix.close()








